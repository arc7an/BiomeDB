<!DOCTYPE html>
<html ng-app="main">
<head>
	<title>TITLE</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
	<script src="lib/misc.js"></script>
	<script src="modules/main.js"></script>
	<link rel="stylesheet" href="css/svg.css" />
	<link rel="stylesheet" href="css/main.css" />
</head>
<body ng-controller="restful_exchange">
	<header><h1>Bio Graph DB</h1></header>
<div id="page">
	<div id="top">
		<section id="s_1">
			<strong id="query_label">Cypher request:</strong> <input type="text" size="100" ng-model="query"
																															ng-enter="send()">
			<button ng-click="send()">Send!</button>
		</section>
	</div>
	<div class="clear"></div>
	<div id="left_column">
		<section id="s_2">

			<!-- recursive template -->
			<script type="text/ng-template" id="nodes_renderer.html">
				<img src="{{ get_tree_img_src(node) }}"
						 ng-click="swap_folding(node); load_children(node)" >
				<span ng-bind-html-unsafe="node.rel.type | draw_link"></span>
				<a href="#" ng-click="show_node_data(node)">
					{{ node.data.name }}
				</a>
				<ul ng-show="tree[node.id]" class="shifted_list">
					<li ng-repeat="node in node.nodes" ng-include="'nodes_renderer.html'"></li>
				</ul>
			</script>

			<ul>
				<li ng-repeat="node in nodes" ng-include="'nodes_renderer.html'"></li>
			</ul>
		</section>
	</div>
	<div id="right_column">
		<section id="s_3">
			<!--<header><h2>Result:</h2></header>-->
			<div class="result" ng-show="current_node">
				<table>
					<tr>
						<th>Name</th>
						<th>Value</th>
					</tr>
					<tr ng-repeat="(k,v) in current_node.data">
						<td>{{ k }}</td>
						<td>{{ v }}</td>
					</tr>
				</table>
			</div>
		</section>
	</div>
</div>
</body>
</html>